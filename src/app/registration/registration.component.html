<div class="container">
  <h2>Please fill in your Register details below:</h2>
  <div class="register">
      <div class="row">
          <div class="col-md-6">
            <h3>Registration</h3>
            <img src="" alt="">
          </div>
          <div class="col-md-6">
            <form name="registerForm" (ngSubmit)="addNewUser(f)" #f="ngForm" novalidate>
              <div>
                <label>Email:*</label>
                <input type="email" id="email" name="email" pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$"
                       class="form-control" [(ngModel)]="dataObj.email" required>
                <div *ngIf="f.controls.email.invalid && f.submitted">
                  <span *ngIf="f.controls.email.errors.required">
                    email is required
                  </span>
                  <span *ngIf="f.controls.email.errors.pattern">
                    email format is not valid
                  </span>
                </div>
              </div>
              <div>
                <label>Username:*</label>
                <input type="text" id="username" name="username" minlength="4"
                       class="form-control" [(ngModel)]="dataObj.username" required>
                <div *ngIf="f.controls.username.invalid && f.submitted">
                  <span *ngIf="f.controls.username.errors.required">
                    username is required
                  </span>
                  <span *ngIf="f.controls.username.errors.minlength">
                    username must be at least 4 characters
                  </span>
                </div>              
              </div>
              <div>
                <label>Password:*</label>
                <input type="password" id="password" name="password"
                       minlength="8" pattern="^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?!.*\s).*$"
                       class="form-control" [(ngModel)]="dataObj.password" required>
                <div *ngIf="f.controls.password.invalid && f.submitted">
                  <span *ngIf="f.controls.password.errors.required">
                    password is required
                  </span>
                  <span *ngIf="f.controls.password.errors.minlength; else checkPattern">
                    password should be at least 8 characters
                  </span>
                  <ng-template #checkPattern> 
                    <span *ngIf="f.controls.password.errors.pattern">
                      password should contain uppercase, lowercase and number
                    </span>
                  </ng-template> 
                </div>
              </div>
              <div>
                <label>Confirm password:*</label>
                <input  type="password" id="passwordRetyped" name="passwordRetyped" (input)="resetFlag()"
                        class="form-control" [(ngModel)]="dataObj.passwordRetyped" required>
                <div *ngIf="f.submitted">
                  <span *ngIf="f.controls.passwordRetyped.invalid && f.controls.passwordRetyped.errors.required">
                    retyping password is required
                  </span>   
                  <span *ngIf="f.controls.passwordRetyped.valid && invalid_match">
                      password fields are not matched
                  </span>
                </div>
              </div>
              <button>Submit</button>
            </form>
          </div>
      </div>
  </div>
</div>